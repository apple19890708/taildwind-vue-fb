import{s as w,r as u,y as g,c as d,a as s,w as m,v as x,u as o,t as y,q as k,h as $,e as f,A as M,k as V,B,C,ae as N,p as q,o as _,f as D}from"./index.10b61a3e.js";import{u as K,c as h,r as S,e as T}from"./index.esm.19341e39.js";const z=["onKeyup"],E=s("li",{class:"mb-8 w-full text-center text-2xl font-bold"},"\u5FD8\u8A18\u5BC6\u78BC\uFF1F",-1),F=s("li",{class:"mb-4 w-full"},"\u8ACB\u8F38\u5165\u60A8\u7684\u96FB\u5B50\u90F5\u4EF6\u4FE1\u7BB1",-1),j={class:"mb-4 w-full"},A={key:0,class:"font-azeret text-alert"},I={class:"mb-4 w-full"},L=["disabled"],U=s("span",null,"\u767C\u9001\u78BA\u8A8D\u4FE1",-1),G={class:"text-center"},H=D("\u767B\u5165"),Q={setup(J){const r=w(),t=u({email:""}),p=g(()=>({email:{required:h.withMessage("email \u5FC5\u586B",S),email:h.withMessage("email \u683C\u5F0F\u932F\u8AA4",T)}})),a=K(p,t.value),l=u(!1);function n(){t.value.email="",l.value=!1}const c=async()=>{if(!!await a.value.$validate()){l.value=!0;try{const e=await N({email:t.value.email});e.status&&(n(),r.success(e.message))}catch(e){n(),r.error(e.message)}}};return(v,e)=>{const b=q("router-link");return _(),d("ul",{class:"w-full",onKeyup:B(C(c,["exact"]),["enter"])},[E,F,s("li",j,[m(s("input",{class:"w-full border-2 border-black py-4 px-6 font-azeret",type:"email",placeholder:"Email","onUpdate:modelValue":e[0]||(e[0]=i=>t.value.email=i),onBlur:e[1]||(e[1]=(...i)=>o(a).email.$touch&&o(a).email.$touch(...i))},null,544),[[x,t.value.email]]),o(a).email.$errors.length>0?(_(),d("div",A,y(o(a).email.$errors[0].$message),1)):k("",!0)]),s("li",I,[s("button",{class:"flex w-full items-center justify-center rounded-lg border-2 border-black bg-primary py-2 text-lg text-white hover:bg-warning hover:text-black disabled:bg-disabled",onClick:c,disabled:l.value},[U,m(f(M,{class:"ml-1 h-4 w-4 animate-spin"},null,512),[[$,l.value]])],8,L)]),s("li",G,[f(b,{to:"sign-in"},{default:V(()=>[H]),_:1})])],40,z)}}};export{Q as default};
