import{O as h,A as p,P as R,G as g,Q as f,q as v}from"./index.3373aa46.js";const s=h.create({baseURL:`${p}/chat`,timeout:2e4}),a=()=>localStorage.getItem("metaWall")?{headers:{Authorization:localStorage.getItem("metaWall")}}:!1,b={record:()=>s.get("/chat-record",a()),openRecord:()=>s.get("/open-chat-record",a()),room:o=>s.post("/room-info",o,a())},A=()=>document.body.clientWidth>=1024?"desktop":"mobile",x=()=>{const o=R(),i=g(),{room:t}=f(o),l=v(),n=r=>t.value.map(e=>e.roomId).includes(r);return{handleRoom:(r,c=!1)=>{const{roomId:e,name:d}=r,m={roomId:e,name:d,isOpen:!0,isGroup:c},u=A();if(console.log("device",u),console.log("isRoomExist",n(e)),u==="desktop"){if(n(e))return;if(t.value.length===3){l.error("\u60A8\u6700\u591A\u53EA\u80FD\u8DDF\u4E09\u500B\u4EBA\u804A\u5929\u5466\uFF01");return}o.updateRoom([...t.value,m]);return}o.updateRoom([m]),console.log("roomStore",o),i.push("/chat-room")}}};export{b as a,x as u};
