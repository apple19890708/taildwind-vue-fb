import{_ as C,o as i,c,a as e,r as u,y as V,w as h,v as x,u as o,t as _,q as y,h as A,e as r,A as I,k as m,ab as S,B as L,L as N,J as p,ac as q,p as U,C as j,f as k}from"./index.10b61a3e.js";import{u as K,c as n,r as $,e as T}from"./index.esm.19341e39.js";const D={},E={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-google",viewBox:"0 0 16 16"},G=e("title",null,"Sign in with Google",-1),P=e("path",{d:"M15.545 6.558a9.42 9.42 0 0 1 .139 1.626c0 2.434-.87 4.492-2.384 5.885h.002C11.978 15.292 10.158 16 8 16A8 8 0 1 1 8 0a7.689 7.689 0 0 1 5.352 2.082l-2.284 2.284A4.347 4.347 0 0 0 8 3.166c-2.087 0-3.86 1.408-4.492 3.304a4.792 4.792 0 0 0 0 3.063h.003c.635 1.893 2.405 3.301 4.492 3.301 1.078 0 2.004-.276 2.722-.764h-.003a3.702 3.702 0 0 0 1.599-2.431H8v-3.08h7.545z"},null,-1),R=[G,P];function Z(z,g){return i(),c("svg",E,R)}var H=C(D,[["render",Z]]);const J=["onKeyup"],W=e("li",{class:"mb-8 w-full text-center text-2xl font-bold"}," \u5230\u5143\u5B87\u5B99\u5C55\u958B\u5168\u65B0\u793E\u4EA4\u5708 ",-1),F={class:"mb-4 w-full"},O={key:0,class:"font-azeret text-alert"},Q={class:"mb-8 w-full"},X={key:0,class:"font-azeret text-alert"},Y={class:"mb-2 text-center text-alert"},ee={class:"mb-4 w-full"},se=["disabled"],te=e("span",null,"\u767B\u5165",-1),oe={class:"flex justify-between"},ae=k(" \u5FD8\u8A18\u5BC6\u78BC\uFF1F "),le=k(" \u8A3B\u518A\u65B0\u5E33\u865F "),re=e("li",null,[e("div",{class:"my-4 border-t-2 border-gray-300 pt-2 text-center text-gray-500"}," \u4F7F\u7528\u5176\u4ED6\u767B\u5165\u65B9\u5F0F ")],-1),ne={class:"flex justify-evenly"},ie=["href"],ue={setup(z){const g=N(),B={google:`${p}/users/google`,facebook:`${p}/users/facebook`,discord:`${p}/users/discord`},l=u({email:"",password:""}),M=V(()=>({email:{required:n.withMessage("email \u5FC5\u586B",$),email:n.withMessage("email \u683C\u5F0F\u932F\u8AA4",T)},password:{required:n.withMessage("\u5BC6\u78BC\u5FC5\u586B",$),alphaNum:n.withMessage("\u5BC6\u78BC\u9700\u81F3\u5C11 8 \u78BC\u4EE5\u4E0A\uFF0C\u4E26\u82F1\u6578\u6DF7\u5408",n.regex(/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/,/\d/))}})),s=K(M,l.value),f=u(!1),d=u(""),w=async()=>{q(l.value).then(b=>{localStorage.setItem("metaWall",`Bearer ${b.data.token}`),localStorage.setItem("isLogin",!0),g.push({name:"posts"})}).catch(()=>{d.value="\u767B\u5165\u5931\u6557\uFF0C\u5E33\u865F\u6216\u5BC6\u78BC\u932F\u8AA4",setTimeout(()=>{d.value=""},2e3)})};return(b,t)=>{const v=U("router-link");return i(),c("ul",{class:"w-full",onKeyup:L(j(w,["exact"]),["enter"])},[W,e("li",F,[h(e("input",{class:"w-full border-2 border-black py-4 px-6 font-azeret",type:"email",placeholder:"Email","onUpdate:modelValue":t[0]||(t[0]=a=>l.value.email=a),onBlur:t[1]||(t[1]=(...a)=>o(s).email.$touch&&o(s).email.$touch(...a))},null,544),[[x,l.value.email]]),o(s).email.$errors.length>0?(i(),c("div",O,_(o(s).email.$errors[0].$message),1)):y("",!0)]),e("li",Q,[h(e("input",{class:"w-full border-2 border-black py-4 px-6 font-azeret",type:"password",placeholder:"Password","onUpdate:modelValue":t[2]||(t[2]=a=>l.value.password=a),onBlur:t[3]||(t[3]=(...a)=>o(s).password.$touch&&o(s).password.$touch(...a))},null,544),[[x,l.value.password]]),o(s).password.$errors.length>0?(i(),c("div",X,_(o(s).password.$errors[0].$message),1)):y("",!0)]),e("li",Y,[e("p",null,_(d.value),1)]),e("li",ee,[e("button",{class:"flex w-full items-center justify-center rounded-lg border-2 border-black bg-primary py-2 text-lg text-white hover:bg-warning hover:text-black disabled:bg-disabled",onClick:w,disabled:f.value},[te,h(r(I,{class:"ml-1 h-4 w-4 animate-spin"},null,512),[[A,f.value]])],8,se)]),e("li",oe,[r(v,{to:"forget-password",class:"hover:text-primary hover:underline"},{default:m(()=>[ae]),_:1}),r(v,{to:"sign-up",class:"hover:text-primary hover:underline"},{default:m(()=>[le]),_:1})]),re,e("li",ne,[e("a",{href:B.google},[r(S,{size:"50"},{default:m(()=>[r(H,{class:"h-6 w-6"})]),_:1})],8,ie)])],40,J)}}};export{ue as default};
