import{r as h,y as k,c as i,a as l,w as u,v as c,u as a,t as d,q as p,h as M,e as g,A as P,k as z,L as V,ab as B,p as q,o as m,f as U}from"./index.709cefc9.js";import{u as A,c as r,r as w,m as C,e as N,s as L}from"./index.esm.0bb8f8e6.js";const D={class:"w-full"},S=l("li",{class:"mb-8 w-full text-center text-2xl font-bold"},"\u8A3B\u518A\u65B0\u5E33\u865F",-1),T={class:"mb-4 w-full"},E={key:0,class:"font-azeret text-alert"},Z={class:"mb-4 w-full"},j={key:0,class:"font-azeret text-alert"},I={class:"mb-8 w-full"},R={key:0,class:"font-azeret text-alert"},F={class:"mb-8 w-full"},G={key:0,class:"font-azeret text-alert"},H={class:"mb-2 text-center text-alert"},J={class:"mb-4 w-full"},K=["disabled"],O=l("span",null,"\u8A3B\u518A",-1),Q={class:"text-center"},W=U("\u767B\u5165"),se={setup(X){const b=V(),f=h(""),o=h({name:"",email:"",password:"",confirmPassword:""}),_=k(()=>({name:{required:r.withMessage("\u66B1\u7A31\u5FC5\u586B",w),minLength:r.withMessage("\u66B1\u7A31\u81F3\u5C11 2 \u500B\u5B57\u5143\u4EE5\u4E0A",C(2))},email:{required:r.withMessage("email \u5FC5\u586B",w),email:r.withMessage("email \u683C\u5F0F\u932F\u8AA4",N)},password:{required:r.withMessage("\u5BC6\u78BC\u5FC5\u586B",w),alphaNum:r.withMessage("\u5BC6\u78BC\u9700\u81F3\u5C11 8 \u78BC\u4EE5\u4E0A\uFF0C\u4E26\u82F1\u6578\u6DF7\u5408",r.regex(/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/,/\d/))},confirmPassword:{required:r.withMessage("\u78BA\u8A8D\u5BC6\u78BC\u5FC5\u586B",w),sameAsPassword:r.withMessage("\u5BC6\u78BC\u4E0D\u4E00\u81F4",L(o.value.password))}})),s=A(_,o.value),n=h(!1);function v(){o.value.email="",o.value.password="",n.value=!1}const x=async()=>{if(!!await s.value.$validate()){n.value=!0;try{const e=await B(o.value);console.log("res",e),e.status&&(v(),alert(e.message),b.push({name:"sign-in"}),n.value=!1)}catch(e){n.value=!1,f.value=e.message,v(),setTimeout(()=>{f.value=""},2e3)}}};return($,e)=>{const y=q("router-link");return m(),i("ul",D,[S,l("li",T,[u(l("input",{class:"w-full border-2 border-black py-4 px-6 font-azeret",type:"text",placeholder:"\u66B1\u7A31","onUpdate:modelValue":e[0]||(e[0]=t=>o.value.name=t),onBlur:e[1]||(e[1]=(...t)=>a(s).name.$touch&&a(s).name.$touch(...t))},null,544),[[c,o.value.name]]),a(s).name.$errors.length>0?(m(),i("div",E,d(a(s).name.$errors[0].$message),1)):p("",!0)]),l("li",Z,[u(l("input",{class:"w-full border-2 border-black py-4 px-6 font-azeret",type:"email",placeholder:"Email","onUpdate:modelValue":e[2]||(e[2]=t=>o.value.email=t),onBlur:e[3]||(e[3]=(...t)=>a(s).email.$touch&&a(s).email.$touch(...t))},null,544),[[c,o.value.email]]),a(s).email.$errors.length>0?(m(),i("div",j,d(a(s).email.$errors[0].$message),1)):p("",!0)]),l("li",I,[u(l("input",{class:"w-full border-2 border-black py-4 px-6 font-azeret",type:"password",placeholder:"Password","onUpdate:modelValue":e[4]||(e[4]=t=>o.value.password=t),onBlur:e[5]||(e[5]=(...t)=>a(s).password.$touch&&a(s).password.$touch(...t))},null,544),[[c,o.value.password]]),a(s).password.$errors.length>0?(m(),i("div",R,d(a(s).password.$errors[0].$message),1)):p("",!0)]),l("li",F,[u(l("input",{class:"w-full border-2 border-black py-4 px-6 font-azeret",type:"password",placeholder:"ConfirmPassword","onUpdate:modelValue":e[6]||(e[6]=t=>o.value.confirmPassword=t),onBlur:e[7]||(e[7]=(...t)=>a(s).confirmPassword.$touch&&a(s).confirmPassword.$touch(...t))},null,544),[[c,o.value.confirmPassword]]),a(s).confirmPassword.$errors.length>0?(m(),i("div",G,d(a(s).confirmPassword.$errors[0].$message),1)):p("",!0)]),l("li",H,[l("p",null,d(f.value),1)]),l("li",J,[l("button",{class:"flex w-full items-center justify-center rounded-lg border-2 border-black bg-primary py-2 text-lg text-white hover:bg-warning hover:text-black disabled:bg-disabled",onClick:x,disabled:n.value},[O,u(g(P,{class:"ml-1 h-4 w-4 animate-spin"},null,512),[[M,n.value]])],8,K)]),l("li",Q,[g(y,{to:"sign-in"},{default:z(()=>[W]),_:1})])])}}};export{se as default};
